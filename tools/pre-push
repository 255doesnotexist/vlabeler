#!/bin/bash

# Navigate to the project root, adjust as needed
cd "$(git rev-parse --show-toplevel)" || exit 1

# Run ktlintCheck
./gradlew ktlintCheck

# Check the exit status of the last command (ktlintCheck)
if [ $? -ne 0 ]; then
  echo "ktlintCheck failed. Aborting push."
  exit 1
fi

# If we're here, exit cleanly and allow the push
exit 0
